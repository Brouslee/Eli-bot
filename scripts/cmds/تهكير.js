
module.exports = {
	config: {
		name: "ØªÙ‡ÙƒÙŠØ±",
		aliases: ["Ù‡Ø§Ùƒ", "hack"],
		version: "1.0",
		author: "SIFOANTER",
		countDown: 30,
		role: 0,
		description: {
			ar: "Ù„Ø¹Ø¨Ø© ØªÙ‡ÙƒÙŠØ± ÙˆÙ‡Ù…ÙŠØ© Ù…Ù…ØªØ¹Ø© Ù…Ø¹ Ù…ÙƒØ§ÙØ¢Øª"
		},
		category: "Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨",
		guide: {
			ar: "   {pn} <@Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…>: Ù…Ø­Ø§ÙˆÙ„Ø© ØªÙ‡ÙƒÙŠØ± Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"
				+ "\n   {pn} Ø¨Ù†Ùƒ: Ù…Ø­Ø§ÙˆÙ„Ø© ØªÙ‡ÙƒÙŠØ± Ø§Ù„Ø¨Ù†Ùƒ"
				+ "\n   {pn} Ù†Ø¸Ø§Ù…: Ù…Ø­Ø§ÙˆÙ„Ø© ØªÙ‡ÙƒÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…"
		}
	},

	langs: {
		ar: {
			hackingUser: "ğŸ’» **Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙ‡ÙƒÙŠØ±...**\n"
				+ "ğŸ¯ Ø§Ù„Ù‡Ø¯Ù: %1\n"
				+ "â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø®ØªØ±Ø§Ù‚...",
			hackSuccess: "âœ… **Ù†Ø¬Ø­ Ø§Ù„ØªÙ‡ÙƒÙŠØ±!**\n"
				+ "ğŸ’° ØªÙ… Ø³Ø±Ù‚Ø©: %1 ğŸ’°\n"
				+ "ğŸ‰ ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ!\n"
				+ "ğŸ•µï¸ Ø§Ø­Ø°Ø±! Ø§Ù„Ø¶Ø­ÙŠØ© Ù‚Ø¯ ØªÙƒØªØ´Ù...",
			hackFailed: "âŒ **ÙØ´Ù„ Ø§Ù„ØªÙ‡ÙƒÙŠØ±!**\n"
				+ "ğŸš¨ ØªÙ… Ø§ÙƒØªØ´Ø§ÙÙƒ! \n"
				+ "ğŸ’¸ ØºØ±Ø§Ù…Ø©: %1 ğŸ’°\n"
				+ "ğŸ”’ Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ù†Ø´Ø·!",
			hackingBank: "ğŸ¦ **Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø®ØªØ±Ø§Ù‚ Ø§Ù„Ø¨Ù†Ùƒ...**\n"
				+ "âš ï¸ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©: Ø®Ø·ÙŠØ± Ø¬Ø¯Ø§Ù‹\n"
				+ "â³ Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ø£Ù†Ø¸Ù…Ø©...",
			bankSuccess: "ğŸ‰ **Ø§Ø®ØªØ±Ø§Ù‚ Ø§Ù„Ø¨Ù†Ùƒ Ù†Ø§Ø¬Ø­!**\n"
				+ "ğŸ’ Ø³Ø±Ù‚Øª: %1 ğŸ’°\n"
				+ "ğŸ† Ø£Ù†Øª Ù‡Ø§ÙƒØ± Ù…Ø­ØªØ±Ù!",
			bankFailed: "ğŸš” **ØªÙ… Ø§Ù„Ù‚Ø¨Ø¶ Ø¹Ù„ÙŠÙƒ!**\n"
				+ "âš–ï¸ ØºØ±Ø§Ù…Ø© Ø§Ù„Ø¨Ù†Ùƒ: %1 ğŸ’°\n"
				+ "ğŸ”’ ØªÙ… Ø­Ø¸Ø±Ùƒ Ù…Ø¤Ù‚ØªØ§Ù‹ Ù…Ù† Ø§Ù„Ø¨Ù†Ùƒ!",
			hackingSystem: "ğŸ–¥ï¸ **Ø§Ø®ØªØ±Ø§Ù‚ Ø§Ù„Ù†Ø¸Ø§Ù…...**\n"
				+ "âš ï¸ Ø®Ø·Ø±! Ù…Ø³ØªÙˆÙ‰ Ø­Ù…Ø§ÙŠØ© Ø¹Ø§Ù„ÙŠ\n"
				+ "â³ ÙØ­Øµ Ø§Ù„Ø«ØºØ±Ø§Øª...",
			systemSuccess: "ğŸ‘‘ **Ù…Ø¨Ø±ÙˆÙƒ! Ø£Ù†Øª Ø¥Ù„Ù‡ Ø§Ù„ØªÙ‡ÙƒÙŠØ±!**\n"
				+ "ğŸ’° Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ù†Ø¸Ø§Ù…: %1 ğŸ’°\n"
				+ "ğŸ–ï¸ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ù„Ù‚Ø¨ 'Ù‡Ø§ÙƒØ± Ø§Ù„Ù†Ø¸Ø§Ù…'",
			systemFailed: "â˜ ï¸ **Ø§Ù„Ù†Ø¸Ø§Ù… Ø¯Ù…Ø±Ùƒ!**\n"
				+ "ğŸ’¸ Ø®Ø³Ø±Øª ÙƒÙ„ Ø£Ù…ÙˆØ§Ù„Ùƒ!\n"
				+ "âš¡ ØµØ¯Ù…Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©!",
			noMention: "âŒ Ø­Ø¯Ø¯ Ù‡Ø¯Ù Ø§Ù„ØªÙ‡ÙƒÙŠØ±! Ø§Ø³ØªØ®Ø¯Ù… @",
			notEnoughMoney: "âŒ ØªØ­ØªØ§Ø¬ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ %1 ğŸ’° Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªÙ‡ÙƒÙŠØ±",
			selfHack: "ğŸ¤” Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ØªÙ‡ÙƒÙŠØ± Ù†ÙØ³Ùƒ ÙŠØ§ Ø¹Ø¨Ù‚Ø±ÙŠ!",
			cooldown: "â° Ø§Ù†ØªØ¸Ø± %1 Ø«Ø§Ù†ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©"
		}
	},

	onStart: async function ({ message, usersData, event, args, getLang }) {
		const userData = await usersData.get(event.senderID);
		const userMoney = userData.money || 0;

		if (args.length === 0) {
			return message.reply("ğŸ’» **Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙ‡ÙƒÙŠØ±:**\n\nğŸ¯ ØªÙ‡ÙƒÙŠØ± @Ù…Ø³ØªØ®Ø¯Ù…\nğŸ¦ ØªÙ‡ÙƒÙŠØ± Ø¨Ù†Ùƒ\nğŸ–¥ï¸ ØªÙ‡ÙƒÙŠØ± Ù†Ø¸Ø§Ù…\n\nâš ï¸ ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙˆÙ‡Ù…ÙŠØ© ÙˆÙ„Ù„Ù…Ø±Ø­ ÙÙ‚Ø·!");
		}

		const target = args[0];

		// ØªÙ‡ÙƒÙŠØ± Ø¨Ù†Ùƒ
		if (target === "Ø¨Ù†Ùƒ") {
			if (userMoney < 5000) {
				return message.reply(getLang("notEnoughMoney", "5,000"));
			}

			message.reply(getLang("hackingBank"));

			setTimeout(async () => {
				const success = Math.random() < 0.3; // 30% Ù†Ø³Ø¨Ø© Ù†Ø¬Ø§Ø­
				
				if (success) {
					const reward = Math.floor(Math.random() * 20000) + 10000; // 10k-30k
					await usersData.set(event.senderID, { money: userMoney + reward });
					message.reply(getLang("bankSuccess", reward.toLocaleString('ar-SA')));
				} else {
					const penalty = Math.floor(userMoney * 0.3); // Ø®Ø³Ø§Ø±Ø© 30%
					await usersData.set(event.senderID, { money: userMoney - penalty });
					message.reply(getLang("bankFailed", penalty.toLocaleString('ar-SA')));
				}
			}, 5000);
			return;
		}

		// ØªÙ‡ÙƒÙŠØ± Ù†Ø¸Ø§Ù…
		if (target === "Ù†Ø¸Ø§Ù…") {
			if (userMoney < 10000) {
				return message.reply(getLang("notEnoughMoney", "10,000"));
			}

			message.reply(getLang("hackingSystem"));

			setTimeout(async () => {
				const success = Math.random() < 0.1; // 10% Ù†Ø³Ø¨Ø© Ù†Ø¬Ø§Ø­
				
				if (success) {
					const reward = 50000;
					await usersData.set(event.senderID, { money: userMoney + reward });
					message.reply(getLang("systemSuccess", reward.toLocaleString('ar-SA')));
				} else {
					await usersData.set(event.senderID, { money: 0 }); // Ø®Ø³Ø§Ø±Ø© ÙƒÙ„ Ø´ÙŠØ¡
					message.reply(getLang("systemFailed"));
				}
			}, 7000);
			return;
		}

		// ØªÙ‡ÙƒÙŠØ± Ù…Ø³ØªØ®Ø¯Ù…
		if (Object.keys(event.mentions).length === 0) {
			return message.reply(getLang("noMention"));
		}

		const targetUID = Object.keys(event.mentions)[0];
		if (targetUID === event.senderID) {
			return message.reply(getLang("selfHack"));
		}

		if (userMoney < 1000) {
			return message.reply(getLang("notEnoughMoney", "1,000"));
		}

		const targetName = event.mentions[targetUID].replace("@", "");
		message.reply(getLang("hackingUser", targetName));

		setTimeout(async () => {
			const success = Math.random() < 0.6; // 60% Ù†Ø³Ø¨Ø© Ù†Ø¬Ø§Ø­
			
			if (success) {
				const targetData = await usersData.get(targetUID);
				const targetMoney = targetData.money || 0;
				const stolenAmount = Math.min(Math.floor(targetMoney * 0.1), 3000); // 10% Ø£Ùˆ 3000 ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰
				
				if (stolenAmount > 0) {
					await usersData.set(event.senderID, { money: userMoney + stolenAmount });
					await usersData.set(targetUID, { money: targetMoney - stolenAmount });
					message.reply(getLang("hackSuccess", stolenAmount.toLocaleString('ar-SA')));
				} else {
					message.reply("ğŸ’° Ø§Ù„Ù‡Ø¯Ù Ù…ÙÙ„Ø³! Ù„Ù… ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ø´ÙŠØ¡ ğŸ˜…");
				}
			} else {
				const penalty = Math.floor(Math.random() * 2000) + 1000; // 1k-3k ØºØ±Ø§Ù…Ø©
				await usersData.set(event.senderID, { money: Math.max(0, userMoney - penalty) });
				message.reply(getLang("hackFailed", penalty.toLocaleString('ar-SA')));
			}
		}, 4000);
	}
};
